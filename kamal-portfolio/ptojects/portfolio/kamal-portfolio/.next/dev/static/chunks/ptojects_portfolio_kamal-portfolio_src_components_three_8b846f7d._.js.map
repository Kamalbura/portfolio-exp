{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/burak/ptojects/portfolio/kamal-portfolio/src/components/three/CoreOrb.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRef, useEffect, useState, useCallback } from 'react';\r\nimport gsap from 'gsap';\r\nimport { useFrame } from '@react-three/fiber';\r\nimport * as THREE from 'three';\r\nimport { Sphere, MeshTransmissionMaterial, Billboard, Text } from '@react-three/drei';\r\n\r\ntype SkillIconKey = 'ai' | 'iot' | 'systems';\r\n\r\nconst skillIcons: Record<SkillIconKey, { glyph: string; color: string }> = {\r\n  ai: { glyph: '</>', color: '#00d4ff' },\r\n  iot: { glyph: '~~', color: '#00ffc8' },\r\n  systems: { glyph: '[]', color: '#8b5cf6' },\r\n};\r\n\r\nexport default function CoreOrb() {\r\n  const meshRef = useRef<THREE.Mesh>(null);\r\n  const glowRef = useRef<THREE.Mesh>(null);\r\n  const ringRef = useRef<THREE.Mesh>(null);\r\n  const innerRef = useRef<THREE.Mesh>(null);\r\n  const pointRef = useRef<THREE.PointLight>(null);\r\n  const iconRef = useRef<THREE.Object3D>(null);\r\n  const iconMaterialRef = useRef<THREE.MeshBasicMaterial>(null);\r\n  const skillsFocusRef = useRef(false);\r\n  const [activeIconKey, setActiveIconKey] = useState<SkillIconKey | null>(null);\r\n  const [iconColor, setIconColor] = useState('#00d4ff');\r\n\r\n  useFrame((state) => {\r\n    if (meshRef.current) {\r\n      meshRef.current.rotation.y = state.clock.elapsedTime * 0.3;\r\n      meshRef.current.rotation.z = Math.sin(state.clock.elapsedTime * 0.2) * 0.1;\r\n    }\r\n    if (glowRef.current) {\r\n      glowRef.current.rotation.y = -state.clock.elapsedTime * 0.1;\r\n      const scale = 1 + Math.sin(state.clock.elapsedTime * 2) * 0.05;\r\n      glowRef.current.scale.setScalar(scale);\r\n    }\r\n    if (ringRef.current) {\r\n      ringRef.current.rotation.x = state.clock.elapsedTime * 0.5;\r\n      ringRef.current.rotation.y = state.clock.elapsedTime * 0.2;\r\n    }\r\n    if (innerRef.current) {\r\n      const pulse = 0.5 + Math.abs(Math.sin(state.clock.elapsedTime * 2)) * 0.8;\r\n      const material = innerRef.current.material as THREE.MeshStandardMaterial;\r\n      material.emissiveIntensity = pulse;\r\n      material.emissive = new THREE.Color('#00d4ff');\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (iconRef.current) {\r\n      iconRef.current.scale.setScalar(0.2);\r\n    }\r\n  }, []);\r\n\r\n  const animateOrbScale = useCallback((scale: number, duration = 0.8) => {\r\n    if (meshRef.current) {\r\n      gsap.to(meshRef.current.scale, { x: scale, y: scale, z: scale, duration, ease: 'power2.out' });\r\n    }\r\n    if (innerRef.current) {\r\n      gsap.to(innerRef.current.scale, { x: scale * 0.9, y: scale * 0.9, z: scale * 0.9, duration, ease: 'power2.out' });\r\n    }\r\n  }, []);\r\n\r\n  const animateIconVisibility = useCallback((visible: boolean, color?: string) => {\r\n    if (!iconRef.current || !iconMaterialRef.current) return;\r\n    if (color) {\r\n      iconMaterialRef.current.color = new THREE.Color(color);\r\n    }\r\n    gsap.to(iconRef.current.scale, {\r\n      x: visible ? 0.9 : 0.2,\r\n      y: visible ? 0.9 : 0.2,\r\n      z: 1,\r\n      duration: visible ? 0.85 : 0.5,\r\n      ease: 'power2.out',\r\n    });\r\n    gsap.to(iconMaterialRef.current, {\r\n      opacity: visible ? 1 : 0,\r\n      duration: visible ? 0.65 : 0.4,\r\n      ease: 'power2.out',\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleFocus = (event: Event) => {\r\n      const detail = (event as CustomEvent<{ active?: boolean }>).detail;\r\n      const active = !!detail?.active;\r\n      skillsFocusRef.current = active;\r\n      animateOrbScale(active ? 1.1 : 1, 1.1);\r\n      if (!active) {\r\n        setActiveIconKey(null);\r\n        animateIconVisibility(false);\r\n        gsap.to(pointRef.current || {}, { intensity: 1.6, duration: 0.6, ease: 'power2.out' });\r\n      } else {\r\n        gsap.to(pointRef.current || {}, { intensity: 2, duration: 0.8, ease: 'power2.out' });\r\n      }\r\n    };\r\n\r\n    window.addEventListener('skillsFocus', handleFocus as EventListener);\r\n    return () => window.removeEventListener('skillsFocus', handleFocus as EventListener);\r\n  }, [animateIconVisibility, animateOrbScale]);\r\n\r\n  useEffect(() => {\r\n    const handleSkillHover = (event: Event) => {\r\n      const detail = (event as CustomEvent<{ category?: string; color?: string; key?: SkillIconKey }>).detail;\r\n      const key = detail?.key && skillIcons[detail.key] ? detail.key : null;\r\n\r\n      if (key) {\r\n        setActiveIconKey(key);\r\n        const color = detail?.color || skillIcons[key].color;\r\n        setIconColor(color);\r\n        animateIconVisibility(true, color);\r\n        gsap.to(pointRef.current || {}, { intensity: 2.4, duration: 0.5, ease: 'power2.out' });\r\n        animateOrbScale(1.35, 0.7);\r\n      } else {\r\n        setActiveIconKey(null);\r\n        animateIconVisibility(false);\r\n        gsap.to(pointRef.current || {}, {\r\n          intensity: skillsFocusRef.current ? 2 : 1.6,\r\n          duration: 0.5,\r\n          ease: 'power2.out',\r\n        });\r\n        animateOrbScale(skillsFocusRef.current ? 1.1 : 1, 0.7);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('skillHover', handleSkillHover as EventListener);\r\n    return () => window.removeEventListener('skillHover', handleSkillHover as EventListener);\r\n  }, [animateIconVisibility, animateOrbScale]);\r\n\r\n  const activeIcon = activeIconKey ? skillIcons[activeIconKey] : null;\r\n\r\n  return (\r\n    <group>\r\n      <Sphere ref={meshRef} args={[3, 64, 64]}>\r\n        <MeshTransmissionMaterial\r\n          color=\"#0b1220\"\r\n          thickness={1.8}\r\n          chromaticAberration={0.04}\r\n          anisotropy={0.1}\r\n          ior={1.6}\r\n          transmission={0.95}\r\n          samples={10}\r\n        />\r\n      </Sphere>\r\n\r\n      <Sphere ref={glowRef} args={[3.6, 32, 32]}>\r\n        <meshBasicMaterial color=\"#00d4ff\" transparent opacity={0.06} side={THREE.BackSide} />\r\n      </Sphere>\r\n\r\n      <mesh ref={innerRef}>\r\n        <sphereGeometry args={[1.1, 64, 64]} />\r\n        <meshStandardMaterial emissive=\"#00d4ff\" emissiveIntensity={0.8} metalness={0.3} roughness={0.2} />\r\n      </mesh>\r\n\r\n      <mesh ref={ringRef}>\r\n        <torusGeometry args={[5, 0.05, 16, 100]} />\r\n        <meshBasicMaterial color=\"#00ffcc\" transparent opacity={0.5} />\r\n      </mesh>\r\n\r\n      <mesh rotation={[Math.PI / 2, 0, 0]}>\r\n        <torusGeometry args={[6, 0.03, 16, 100]} />\r\n        <meshBasicMaterial color=\"#00ff88\" transparent opacity={0.3} />\r\n      </mesh>\r\n\r\n      <Billboard follow position={[0, 0, 0]}>\r\n        <Text ref={iconRef} fontSize={0.8} anchorX=\"center\" anchorY=\"middle\">\r\n          {activeIcon?.glyph || ''}\r\n          <meshBasicMaterial\r\n            ref={iconMaterialRef}\r\n            transparent\r\n            opacity={0}\r\n            color={iconColor}\r\n            toneMapped={false}\r\n          />\r\n        </Text>\r\n      </Billboard>\r\n\r\n      <pointLight ref={pointRef} position={[0, 0, 0]} intensity={2} color=\"#00d4ff\" distance={40} />\r\n    </group>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/burak/ptojects/portfolio/kamal-portfolio/src/components/three/GlobalScene.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRef, useMemo, Suspense, useEffect, useState } from 'react';\r\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\r\nimport { Environment, Float } from '@react-three/drei';\r\nimport CoreOrb from './CoreOrb';\r\nimport * as THREE from 'three';\r\nimport { useSmoothScroll } from '../providers/SmoothScrollProvider';\r\n\r\n// Adaptive particle count based on device capability\r\nfunction useAdaptiveParticleCount() {\r\n  const [count, setCount] = useState(5000);\r\n\r\n  useEffect(() => {\r\n    const isMobile = window.innerWidth < 768;\r\n    const isLowEnd = window.innerWidth < 768 || \r\n      (typeof navigator !== 'undefined' && navigator.hardwareConcurrency <= 4);\r\n    \r\n    setCount(isMobile ? 2000 : isLowEnd ? 3500 : 5000);\r\n  }, []);\r\n\r\n  return count;\r\n}\r\n\r\n// Particle Field Component\r\nfunction ParticleField() {\r\n  const pointsRef = useRef<THREE.Points>(null);\r\n  const count = useAdaptiveParticleCount();\r\n\r\n  const geometry = useMemo(() => {\r\n    const positions = new Float32Array(count * 3);\r\n    const colors = new Float32Array(count * 3);\r\n    const sizes = new Float32Array(count);\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const i3 = i * 3;\r\n      const radius = 30 + Math.random() * 70;\r\n      const theta = Math.random() * Math.PI * 2;\r\n      const phi = Math.acos(2 * Math.random() - 1);\r\n\r\n      positions[i3] = radius * Math.sin(phi) * Math.cos(theta);\r\n      positions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);\r\n      positions[i3 + 2] = radius * Math.cos(phi);\r\n\r\n      // Color gradient: AI Blue -> IoT Teal -> Systems Violet\r\n      const colorChoice = Math.random();\r\n      if (colorChoice < 0.4) {\r\n        colors[i3] = 0;\r\n        colors[i3 + 1] = 0.83;\r\n        colors[i3 + 2] = 1;\r\n      } else if (colorChoice < 0.7) {\r\n        colors[i3] = 0;\r\n        colors[i3 + 1] = 1;\r\n        colors[i3 + 2] = 0.78;\r\n      } else {\r\n        colors[i3] = 0.545;\r\n        colors[i3 + 1] = 0.361;\r\n        colors[i3 + 2] = 0.965;\r\n      }\r\n\r\n      sizes[i] = Math.random() * 2 + 0.5;\r\n    }\r\n\r\n    const geo = new THREE.BufferGeometry();\r\n    geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n    geo.setAttribute('color', new THREE.BufferAttribute(colors, 3));\r\n    geo.setAttribute('size', new THREE.BufferAttribute(sizes, 1));\r\n    return geo;\r\n  }, [count]);\r\n\r\n  // Cleanup geometry on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      geometry.dispose();\r\n    };\r\n  }, [geometry]);\r\n\r\n  useFrame((state) => {\r\n    if (pointsRef.current) {\r\n      pointsRef.current.rotation.y = state.clock.elapsedTime * 0.015;\r\n      pointsRef.current.rotation.x = Math.sin(state.clock.elapsedTime * 0.01) * 0.05;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <points ref={pointsRef} geometry={geometry} frustumCulled={false}>\r\n      <pointsMaterial\r\n        size={0.15}\r\n        vertexColors\r\n        transparent\r\n        opacity={0.4}\r\n        blending={THREE.AdditiveBlending}\r\n        depthWrite={false}\r\n        sizeAttenuation\r\n      />\r\n    </points>\r\n  );\r\n}\r\n\r\n// Use externally defined CoreOrb (upgraded crystalline transmission material)\r\n\r\n// Camera Controller\r\nconst SECTION_COUNT = 6;\r\n\r\nconst cameraKeyframes = [\r\n  { x: 0, y: 0, z: 30 }, // Hero\r\n  { x: 4, y: 2, z: 22 }, // About\r\n  { x: -6, y: 1, z: 20 }, // Skills\r\n  { x: 0, y: -2, z: 32 }, // Projects\r\n  { x: 2, y: 3, z: 26 }, // Experience\r\n  { x: 0, y: 5, z: 24 }, // Contact\r\n];\r\n\r\nfunction CameraController() {\r\n  const { camera } = useThree();\r\n  const { getScrollProgress } = useSmoothScroll();\r\n  const targetRef = useRef({ x: 0, y: 0, z: 30 });\r\n  const overrideRef = useRef<{x:number;y:number;z:number}|null>(null);\r\n\r\n  // Listen for skill hover events to trigger camera zoom-in narrative\r\n  useEffect(() => {\r\n    const onSkill = (e: Event) => {\r\n      const ev = e as CustomEvent<{ category: string }>;\r\n      if (ev.detail?.category) {\r\n        overrideRef.current = { x: -3.5, y: 0.5, z: 16 };\r\n      } else {\r\n        overrideRef.current = null;\r\n      }\r\n    };\r\n    window.addEventListener('skillHover', onSkill as EventListener);\r\n    return () => window.removeEventListener('skillHover', onSkill as EventListener);\r\n  }, []);\r\n\r\n  useFrame(() => {\r\n    const absoluteProgress = getScrollProgress() * Math.max(1, SECTION_COUNT - 1);\r\n    const lowerIndex = Math.floor(absoluteProgress);\r\n    const upperIndex = Math.min(cameraKeyframes.length - 1, lowerIndex + 1);\r\n    const blend = absoluteProgress - lowerIndex;\r\n\r\n    const lower = cameraKeyframes[lowerIndex] ?? cameraKeyframes[0];\r\n    const upper = cameraKeyframes[upperIndex] ?? cameraKeyframes[cameraKeyframes.length - 1];\r\n\r\n    targetRef.current = {\r\n      x: THREE.MathUtils.lerp(lower.x, upper.x, blend),\r\n      y: THREE.MathUtils.lerp(lower.y, upper.y, blend),\r\n      z: THREE.MathUtils.lerp(lower.z, upper.z, blend),\r\n    };\r\n\r\n    // If override is active, use it\r\n    const activeTarget = overrideRef.current ?? targetRef.current;\r\n\r\n    // Smooth camera movement (reduced lerp for buttery smooth motion)\r\n    camera.position.x += (activeTarget.x - camera.position.x) * 0.02;\r\n    camera.position.y += (activeTarget.y - camera.position.y) * 0.02;\r\n    camera.position.z += (activeTarget.z - camera.position.z) * 0.02;\r\n    camera.lookAt(0, 0, 0);\r\n  });\r\n\r\n  return null;\r\n}\r\n\r\n// Scene Content\r\nfunction SceneContent() {\r\n  return (\r\n    <>\r\n      <ambientLight intensity={0.3} />\r\n      <pointLight position={[10, 10, 10]} intensity={1} color=\"#00d4ff\" />\r\n      <pointLight position={[-10, -10, -10]} intensity={0.5} color=\"#8b5cf6\" />\r\n      <spotLight\r\n        position={[0, 20, 0]}\r\n        angle={0.3}\r\n        penumbra={1}\r\n        intensity={0.5}\r\n        color=\"#00ffc8\"\r\n      />\r\n      \r\n      <ParticleField />\r\n      <Float speed={1.5} rotationIntensity={0.2} floatIntensity={0.5}>\r\n        <CoreOrb />\r\n      </Float>\r\n      <CameraController />\r\n      \r\n      <Environment preset=\"night\" />\r\n    </>\r\n  );\r\n}\r\n\r\n// Loading Fallback\r\nfunction SceneLoader() {\r\n  return (\r\n    <mesh>\r\n      <sphereGeometry args={[1, 16, 16]} />\r\n      <meshBasicMaterial color=\"#00d4ff\" wireframe />\r\n    </mesh>\r\n  );\r\n}\r\n\r\n// Main Global Scene\r\nexport default function GlobalScene() {\r\n  const [dpr, setDpr] = useState<[number, number]>([1, 2]);\r\n\r\n  useEffect(() => {\r\n    const isMobile = window.innerWidth < 768;\r\n    const isLowEnd = typeof navigator !== 'undefined' && navigator.hardwareConcurrency <= 4;\r\n    \r\n    // Adaptive DPR: mobile gets 1, desktop gets up to 2\r\n    setDpr(isMobile || isLowEnd ? [1, 1] : [1, 2]);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"global-canvas\">\r\n      <Canvas\r\n        camera={{ position: [0, 0, 30], fov: 60 }}\r\n        gl={{\r\n          antialias: !window.matchMedia('(max-width: 768px)').matches,\r\n          alpha: true,\r\n          powerPreference: 'high-performance',\r\n        }}\r\n        dpr={dpr}\r\n        frameloop=\"always\"\r\n      >\r\n        <Suspense fallback={<SceneLoader />}>\r\n          <SceneContent />\r\n        </Suspense>\r\n      </Canvas>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}